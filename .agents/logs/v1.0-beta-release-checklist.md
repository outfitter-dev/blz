# v1.0-beta Release Checklist

**Date**: 2025-10-03
**Status**: Ready for Review
**Current Version**: 0.5.0
**Target Version**: 1.0.0-beta.1

## ‚úÖ Quality Gates (All Passing)

- [x] **Clippy**: 0 warnings, all lints passing with strict config
- [x] **Tests**: 224/224 passing (109 CLI + 115 core)
- [x] **Release Build**: Compiles successfully
- [x] **Code Quality**: All recent clippy errors fixed

## üì¶ Recent Features Added (Ready for v1.0-beta)

### Core Features
- [x] Install script (`install.sh`) with SHA-256 verification
- [x] Clipboard support (OSC 52 escape sequences)
- [x] Search history management with persistence
- [x] Stats command for cache statistics
- [x] Multi-source search filtering
- [x] Info command for source inspection
- [x] `--json` convenience flag across all commands
- [x] Colon syntax for get command (`blz get source:10-20`)
- [x] Source descriptors with metadata (name, description, category)
- [x] Batch manifest support for adding multiple sources
- [x] `--details` flag for `blz list` command

### Major Refactors
- [x] Flavor elimination (simplified from dual flavors to single URL intelligence)
- [x] URL intelligence (auto-prefers llms-full.txt when available)
- [x] Backwards compatibility removed for v0.4.x format
- [x] Cache clear command with `--force` flag

## üîç Code Review Summary

### Recent Quality Fixes (This Session)
Fixed 40 clippy errors across:
- `commands/add.rs`: Redundant clones, inefficient Option handling
- `commands/info.rs`: Doc formatting, precision loss fixes
- `commands/stats.rs`: Let-else pattern, unwrap elimination
- `commands/search.rs`: Boolean parameter overload (allowed), format! optimizations
- `commands/get.rs`, `list.rs`, `update.rs`: Format string optimizations
- `utils/clipboard.rs`: Doc URL formatting
- `utils/history_log.rs`: if-let/else ‚Üí map_or
- `main.rs`: Redundant clones, map_or_else optimizations

### Install Script Quality
- ‚úÖ POSIX-compliant sh (not bash-specific)
- ‚úÖ Proper error handling with `set -eu`
- ‚úÖ SHA-256 checksum verification
- ‚úÖ Platform detection (macOS Darwin, Linux)
- ‚úÖ Architecture support (x64, arm64 for Darwin)
- ‚úÖ Temp directory cleanup with trap
- ‚úÖ PATH detection and helpful warnings
- ‚úÖ --dry-run and --skip-check options
- ‚úÖ Color support with NO_COLOR detection

## üö® Pre-Release Tasks

### Documentation
- [ ] Update CHANGELOG.md with v1.0-beta.1 changes
- [ ] Update README.md with new feature highlights
- [ ] Verify all command help text is accurate
- [ ] Update examples in docs/ directory
- [ ] Check install.sh instructions in README

### Version Bumps
- [ ] Bump version to 1.0.0-beta.1 in:
  - [ ] `Cargo.toml` (workspace)
  - [ ] `crates/blz-core/Cargo.toml`
  - [ ] `crates/blz-cli/Cargo.toml`
  - [ ] `crates/blz-mcp/Cargo.toml`

### Testing
- [ ] Manual smoke tests:
  - [ ] `blz add` with URL
  - [ ] `blz add` with manifest file
  - [ ] `blz search` with various filters
  - [ ] `blz get` with colon syntax
  - [ ] `blz list --details`
  - [ ] `blz stats`
  - [ ] `blz info <source>`
  - [ ] Clipboard copy with `--copy`
  - [ ] History with `.blz_history`
- [ ] Install script tests:
  - [ ] Test on clean macOS system
  - [ ] Test on Linux (if available)
  - [ ] Test `--dry-run` mode
  - [ ] Test `--skip-check` mode

### Release Process
- [ ] Create release branch from current `gt/feat-cli-add-install-script-and-descriptor-defaults`
- [ ] Ensure all commits follow conventional commits
- [ ] Create GitHub release draft
- [ ] Build release binaries for all platforms:
  - [ ] darwin-x64
  - [ ] darwin-arm64
  - [ ] linux-x64
- [ ] Generate SHA-256 checksums for all binaries
- [ ] Test install script with release binaries
- [ ] Update release notes with breaking changes
- [ ] Tag release as `v1.0.0-beta.1`

## üéØ Post-Release Tasks

- [ ] Monitor GitHub issues for beta feedback
- [ ] Update documentation based on user feedback
- [ ] Plan for v1.0.0 final release
- [ ] Consider additional features for final release

## üìä Metrics

### Code Quality
- **Clippy Warnings**: 0
- **Test Coverage**: 224 tests passing
- **Build Time**: ~42s (release), ~4s (dev)
- **Binary Size**: TBD (measure after release build)

### Feature Completeness
- **Core Commands**: 14 implemented
- **Output Formats**: 3 (text, JSON, raw)
- **Source Management**: Fully functional
- **Search Features**: Advanced (multi-source, filtering, history)
- **Developer Experience**: Excellent (install script, completions, help)

## üîß Known Issues / Future Work

### For v1.0.0 Final
- MCP server implementation (blz-mcp crate) - currently in development
- Potential flavor elimination cleanup (if any remaining references found)
- Performance optimizations based on beta feedback
- Additional shell completion improvements

### Nice-to-Have for v1.0.0
- Interactive source selector for `blz search`
- TUI mode for browsing results
- Export search results to various formats
- Diff command improvements

## ‚ú® Highlights for Release Notes

**v1.0.0-beta.1** brings significant improvements and simplifications:

### New Features
- **One-line installation**: `curl -fsSL https://blz.run/install.sh | sh`
- **Clipboard support**: Copy search results directly with `--copy` flag
- **Search history**: Persistent search history with `.blz_history` command
- **Source insights**: New `blz stats` and `blz info` commands
- **Batch operations**: Add multiple sources via manifest files
- **Rich metadata**: Source descriptors with name, description, and categories

### Breaking Changes
- Removed dual-flavor system (llms.txt/llms-full.txt) - now intelligently auto-prefers llms-full.txt
- Removed backwards compatibility for v0.4.x cache format (use `blz clear --force` to migrate)

### Improvements
- 40+ code quality improvements (clippy fixes)
- Enhanced error messages and help text
- Simplified URL handling with automatic llms-full.txt preference
- Faster, more reliable source management

## üéâ Sign-off

- [ ] All checklist items completed
- [ ] Release notes reviewed
- [ ] Binaries tested
- [ ] Ready to ship! üöÄ

---

**Notes**: This is a beta release. Feedback welcome at https://github.com/outfitter-dev/blz/issues
